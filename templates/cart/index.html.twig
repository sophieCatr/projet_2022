{% extends 'base.html.twig' %}

{% block title %}Panier
{% endblock %}
{% block stylesheets %}
	<link href="css/cart.css" rel="stylesheet"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
{% endblock %}
{% block body %}
	{% set total = 0 %}
	<div
		class="container padding-bottom-3x mb-1">
		<!-- Shopping Cart-->
		<div class="table-responsive shopping-cart">
			<table class="table">
				<thead>
					<tr>
						<th>Product Name</th>
						<th class="text-center">Quantity</th>
						<th class="text-center">Subtotal</th>
						<th class="text-center">
							<a class="btn btn-sm btn-outline-danger" href="{{ path('remove_my_cart')}}">Clear Cart</a>
						</th>
					</tr>
				</thead>
				<tbody>
					{% for item in panier %}
						<tr>
							<td>
								<div class="product-item">
									<a class="product-thumb" href="#"><img src="images{{ asset(item.car.image)}}" alt="Product"></a>
								</div>
							</td>
							<td class="text-center">
								<div class="count-input">
									{{item.quantity}}
								</div>
							</td>
							{% set total = total + item.quantity * item.car.prix %}
							<td class="text-center text-lg text-medium">{{item.quantity * item.car.prix}}
								€</td>
							<td class="text-center">
								<a class="remove-from-cart" href="#" data-toggle="tooltip" title="" data-original-title="Remove item">
									<i class="fa fa-trash"></i>
								</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		<div class="shopping-cart-footer">
			<div class="column text-lg">Total:
				<span class="text-medium">{{total}}
					€</span>
			</div>
		</div>
		<div class="shopping-cart-footer">
			<div class="column">
				<a class="btn btn-outline-secondary" href="#">
					<i class="icon-arrow-left"></i>&nbsp;Back to Shopping</a>
			</div>
			<div class="column">
				<a class="btn btn-primary" href="#" data-toast="" data-toast-type="success" data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Your cart" data-toast-message="is updated successfully!">Update Cart</a>
				<a class="btn btn-success" href="#">Checkout</a>
			</div>
		</div>
	</div>
{% endblock %}
